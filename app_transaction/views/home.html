<div class="panel panel-primary" ng-controller="transactionCtrl as vm">
  <div class="panel-body">
    <div class="row">
      <div class="products">
          <div class="col-md-3 product" ng-repeat="product in vm.products track by $index">
            <img class="product-image" src="{{ product.url }}">
            <p class="product-name col-md-12">{{ product.name }}</p>
            <p class="product-price">R$ {{ product.price }}</p>
            <p class="options">
              <button class="btn btn-danger" ng-click="vm.increaseAmount(product, -1)">-</button>
              <b>{{ product.qte }}</b>
              <button class="btn btn-primary" ng-click="vm.increaseAmount(product, 1)">+</button>
            </p>
          </div>
      </div>
    </div>
    <!-- action="php/transaction" -->
    <form id="payment_form" class="form-card"  method="POST" ng-if="vm.amount">
      <div class="row">
        <div class="form-group col-md-5">
          <label> Número do cartão: </label>
          <input type="text" ng-model="vm.card.number" class="form-control"/>
        </div>
        <div class="form-group col-md-4">
          <label> Mês de expiração: </label>
          <input type="month" ng-model="vm.card.expiration_date" class="form-control"/>
        </div>
        <div class="form-group col-md-3">
          <label> Código de segurança: </label>
          <input type="text" ng-model="vm.card.cvv" class="form-control"/>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-8">
          <label> Nome (como escrito no cartão): </label>
          <input type="text" ng-model="vm.card.holder_name" class="form-control"/>
        </div>
        <div class="form-inline form-group col-md-4">
          <label> Quantidade a pagar: </label>
          <div class="input-group">
            <div class="input-group-addon">R$</div>
            <input type="text" ng-model="vm.amount" class="form-control" ng-placeholder="vm.amount" disabled/>
          </div>
        </div>
      </div>
      <div class="row error col-md-12">
        {{ vm.field_errors }}
      </div>
      <button type="submit" class="btn btn-success btn-block" ng-click="vm.confirmTransaction(vm.card)">Confirmar transação</button>
    </form>
  </div>
</div>
